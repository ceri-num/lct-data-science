---
marp: true
theme: imt
paginate: true
backgroundImage: url('../style/bg-imt.svg')
---

# Programming (Python) <br /> for Data-Science
### Object Oriented Programming

<br />
<br />
<br />

**Guillaume.Lozenguez**
[@imt-nord-europe.fr](mailto:guillaume.lozenguez@imt-nord-europe.fr)

![bg](../style/bg-tittle.svg)

---
<!-- --------------------------------------------------------------- -->

![bg](../style/bg-toc3.svg)

<br />

- **OOP in Python**
- **Let's Play**

---
<!-- --------------------------------------------------------------- -->

## Object-Oriented Programing in Python

**class:** first, a collection of class attribute and functions.

```python
# Definition:
class MyObjectType :
    world= "world"

    def function1() :
        return "hello"

    def function2() :
        return MyObjectType.world

# Use:
hello= MyObjectType.function1()
print( hello + ' ' + MyObjectType.function2() )
```

Still with indentation... 

---

## OOP in Python : Class and Instances

The possibility to instantiate objects.

```python
# Definition:
class MyObjectType :
    class_word= "hello"     # A class attribute

# Use:
anInstance= MyObjectType()          # Instanciate a MyObjectType object

anInstance.instance_word= "world"   # an instance attribute

assert( type(anInstance) is MyObjectType )
print( anInstance.class_word + ' ' + anInstance.instance_word )
```

At this point: `anInstance.class_word is MyObjectType.class_word`


---

## OOP in Python : Class and Instances


<div class="line">
<div class="one2">

<br />
<br />

### What is the output <br /> of this code ?

<br />
<br />

A good way to manipulate a 
class attribute: `type(anInstance).classAttribut`


</div>
<div class="one2">

```python
# Definition:
class MyObjectType :
    classAttribut= "Void"

# Use:
anInstance= MyObjectType()

MyObjectType.classAttribut= "Hello"
print( anInstance.classAttribut )

anInstance.classAttribut= "World"
print( MyObjectType.classAttribut )

MyObjectType.classAttribut= "Hmmm"
print( anInstance.classAttribut )
```

</div>
</div>


---

## OOP in Python : Methods

_instance functions_ (the instance is `self` by convention)

```python
# Definition:
class MyObjectType :
    def method(self) :
        return 42
    
# Use:
anInstance= MyObjectType() # Instanciate a MyObjectType

v1= MyObjectType.method(anInstance)
v2= anInstance.method()

if v1 == v2 :
    print( "Hello World" )
print( f"{MyObjectType.method}\nvs {anInstance.method}")
```


---

## OOP in Python: Methods

### Method versus Function

```python
# Definition:
class MyObjectType :
    def method(self) :
        return 42

print( f"{MyObjectType.method}\nvs\n{anInstance.method}")
```

Output:

```
<function MyObjectType.method at 0x7f36636e7a30> 
vs
<bound method MyObjectType.method
 of <__main__.MyObjectType  object at 0x7f366368c310>>
```


---

## OOP in Python: Methods

<br />
<br />
<br />

### Example of a method with $3$ arguments

```python
    def aMethod(self, argument1, argument2, argument3) :
        pass
```

<br />
<br />

---

## OOP in Python: default argument values


**Built-in Methods**: Method already defined in python Objects

- `__init__(self)` : Instance constructor
- `__del__(self)`  : Instance destructor
- `__str__(self)`  : String generation

Example:

```python
def aFunction() :
    anInstance= MyClass()      # call anInstance.__init__()
    print( anInstance )        # call anInstance.__str__()
    return True                # garbage call to anInsatnce.__del__()
```

---

## Object-Oriented Programing in Python

<br />

**Constructor**: `__init__` : initialize a new instance with potentially $n$ arguments

```python
class MyClass() :
    def __init__ ( self, arg1, arg2 ) :
        self._attribut1= param1
        self._attribut2= function( param1, param2 )

anInstance= MyClass( "Paul", "Mouaddib" )
```

<br />

In Python `__init__` method is unique - as all other methods
(i.e. no overloading)


---

## Object-Oriented Programing in Python

Function with a variable argument number - **Example:**

```
function(1, 2)
function(1, 2, 3, 4)
```

**Definition:** parameters with default values

```python
def aFuncrion ( val1=1, val2=0, val3=0, val4=1 ) :
    return (val1+ val1+ val1) * val4
```

**Alternative Run:**

```
function( val4=8 )
```


--- 

## Object-Oriented Programing in Python


**Good Practices:**

- Use `self`.
- Prefer instance method (at least `self` argument).
- Name your attributes starting with `_`.
- Never access class attributes from instances directly.
(Better `Class._att` or `type(instance)._att` than `instance._att`).
- `__init__` method (if defined) is your first method.
- Initialize your instance attributes into `__init__` method.
- ...


---
<!-- --------------------------------------------------------------- -->

![bg](../style/bg-toc3.svg)

<br />

- OOP in Python
- **Let's Play**


---
<!-- --------------------------------------------------------------- -->

## Create a class to manipulate Point Cloud

<br />
<br />

- **Initialize your working space**
- Define **instance attributes**
- Propose some **initialization**
- Provide **accessors**
- Customize **built-in methods**
- Develope some **usefull methods**
- ...


---
<!-- --------------------------------------------------------------- -->

## Create a class to manipulate Point Cloud

</br >

- **Initialize your working space** - two files in a same directory: 
    - `myClass.py` with _class definition_.
    - `test_myClass.py` a _test script_ with instanciation and call to methods.

</br >

<div class="line">
<div class="one2">

`myClassFile.py`:

```python
class aClass :
    attr= "hello"
```

</div>
<div class="one2">

`test_myClass.py`:

```python
import myClassFile

anInstance= myClassFile.aClass()
print( anInstance )
```

</div>
</div>

Then execute: `python3 test_myClass.py`

<br />

---
<!-- --------------------------------------------------------------- -->

## Create a class to manipulate Point Cloud

<br />

- Define **instance attributes**
  - a Point Cloud of $m$ points will involve a numpy $m \times 2$ matrix.

<br />

<div class="line">
<div class="one2">

`cloud.py`:

```python
class Cloud :
    def __init__( self, m=100 )
        ...
```

</div>
<div class="one2">

`test_cloud.py`:

```python
import myCloud

aCloud= myCloud.Cloud()
print( anInstance._points )
```

</div>
</div>

- **Random generator** - generate randomly a point cloud of $n$ points.
- **Print function** - overdefine `__str__` in an informative, not too long way.
    - Exemple: `print( aCloud )  > [(12.8, 8.5), (7.8, 0.5), ...](100)`

<br />

---
<!-- --------------------------------------------------------------- -->

## Create a class to manipulate Point Cloud

<br />
<br />

- **Accessors:**
    - *size():* return the number of points
    - *points():* return the array of points
    - *point(i):* return the $i$-th point
    - *allX():* return a list of the *x* values of all points (**&** *allY():* reciprocally)
- **Computation:** - *average():*, *standardDeviation()*, *minXPoint():*, ...
- ... 

<br />
